<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <title>Proyek Grafkom</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #f0f0f0; }
        canvas { display: block; width: 100vw; height: 100vh; }
    </style>
</head>
<body>
    <div style="position: absolute; top: 10px; left: 10px; color: white; background-color: rgba(0,0,0,0.5); padding: 5px; border-radius: 5px; font-family: sans-serif; z-index: 10;">
        Klik pada canvas untuk mengunci mouse.<br>
        <b>Kontrol Kamera:</b> 'C' (Toggle Freecam), Mouse (Lihat), 'W/A/S/D' (Gerak), 'Tab/Ctrl' (Naik/Turun)
    </div>
    <canvas id="glcanvas"></canvas>

    <script id="vertex-shader-3d" type="x-shader/x-vertex">
        attribute vec4 a_position;
        attribute vec3 a_normal;
        uniform mat4 u_modelMatrix;
        uniform mat4 u_viewMatrix;
        uniform mat4 u_projectionMatrix;
        uniform mat3 u_normalMatrix;
        varying vec3 v_normal;
        varying vec3 v_worldPosition;
        void main() {
          gl_Position = u_projectionMatrix * u_viewMatrix * u_modelMatrix * a_position;
          v_worldPosition = (u_modelMatrix * a_position).xyz;
          v_normal = normalize(u_normalMatrix * a_normal);
        }
    </script>
    <script id="fragment-shader-3d" type="x-shader/x-fragment">
        precision mediump float;
        varying vec3 v_normal;
        varying vec3 v_worldPosition;
        uniform vec4 u_color;
        uniform vec3 u_lightDirection;
        void main() {
          vec3 normal = normalize(v_normal);
          float diffuse = max(dot(normal, u_lightDirection), 0.0);
          float ambient = 0.3;
          gl_FragColor = vec4(u_color.rgb * (ambient + diffuse), u_color.a);
        }
    </script>

    <script src="libs.js"></script> 

    <script src="horsea/snout.js"></script>
    <script src="horsea/fin.js"></script>
    <script src="horsea/head.js"></script>
    <script src="horsea/body.js"></script> 
    <!-- <script src="kingdra.js"></script>  -->
    <script src="environment/seafloor.js"></script>
    <script src="environment/rock.js"></script>
    <script src="environment/seaweed.js"></script>
    <script src="environment/shell.js"></script>
    <script src="main.js"></script> 
</body>
</html>